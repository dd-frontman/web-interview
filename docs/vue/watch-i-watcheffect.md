---
title: "Watch i watcheffect"
description: "–ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω watch, —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç computed –∏ watchEffect, –∏ –∫–∞–∫ –≤—ã–±–∏—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–¥ –∑–∞–¥–∞—á—É."
tags:
  - "vue"
  - "watch-i-watcheffect"
updatedAt: "2026-02-18"
---
## üîç `watch` vs `watchEffect`

`watch`, `computed` –∏ `watchEffect` —á–∞—Å—Ç–æ –ø—É—Ç–∞—é—Ç, –Ω–æ –∑–∞–¥–∞—á–∏ —É –Ω–∏—Ö —Ä–∞–∑–Ω—ã–µ.

## –ó–∞—á–µ–º `watch`

`watch` –Ω—É–∂–µ–Ω –¥–ª—è **–ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

- –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ API;
- –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `localStorage`;
- –¥–µ—Ä–Ω—É—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É;
- —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å URL/—Ä–æ—É—Ç;
- –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä, debounce, polling.

–ö–ª—é—á–µ–≤–∞—è –º—ã—Å–ª—å: `watch` –Ω–µ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è, –∞ –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ.

–ü—Ä–∏–º–µ—Ä:

```ts
const search = ref("");
const results = ref([]);

watch(search, async (value) => {
    if (!value.trim()) {
        results.value = [];
        return;
    }

    const res = await fetch(`/api/search?q=${encodeURIComponent(value)}`);
    results.value = await res.json();
});
```

## `watch` vs `computed`

`computed`:

- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**;
- –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **—á–∏—Å—Ç—ã–º –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º**;
- –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

```ts
const firstName = ref("Ivan");
const lastName = ref("Petrov");
const fullName = computed(() => `${firstName.value} ${lastName.value}`);
```

`watch`:

- –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ;
- –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç**;
- —É–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω—â–∏–Ω–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º –º–∏—Ä–æ–º.

```ts
const theme = ref("dark");

watch(theme, (next) => {
    localStorage.setItem("theme", next);
});
```

### –ö–æ—Ä–æ—Ç–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ

- –ù—É–∂–µ–Ω `newValue` –¥–ª—è —à–∞–±–ª–æ–Ω–∞/–ª–æ–≥–∏–∫–∏ -> `computed`.
- –ù—É–∂–Ω–æ ¬´—á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å¬ª –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ -> `watch`.

## `watch` vs `watchEffect`

`watch`:

- —Å–ª–µ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∑–∞ —Ç–µ–º, —á—Ç–æ —Ç—ã —è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–ª;
- –µ—Å—Ç—å `newValue`, `oldValue`;
- –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –±–µ–∑ `immediate: true`;
- –ª—É—á—à–µ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è.

`watchEffect`:

- –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É;
- —Å–∞–º —Å–æ–±–∏—Ä–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ —Ç–µ–ª–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞;
- –ø—Ä–æ—â–µ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å, –Ω–æ –ª–µ–≥—á–µ —Å–ª—É—á–∞–π–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ª–∏—à–Ω–µ–µ.

–ü—Ä–∏–º–µ—Ä `watchEffect`:

```ts
const count = ref(0);
const double = ref(0);

watchEffect(() => {
    double.value = count.value * 2;
});
```

`watchEffect` –æ—Å–æ–±–µ–Ω–Ω–æ —É–¥–æ–±–µ–Ω, –∫–æ–≥–¥–∞ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ—á–∏—Å–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `watch` —Ç–∞–º, –≥–¥–µ –Ω—É–∂–µ–Ω –æ–±—ã—á–Ω—ã–π `computed`.
2. –î–µ–ª–∞—Ç—å —Ç—è–∂–µ–ª—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É –≤ `watch` –±–µ–∑ debounce/throttle.
3. –í–∫–ª—é—á–∞—Ç—å `deep: true` ¬´–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π¬ª –Ω–∞ –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–∫—Ç—ã.
4. –ó–∞–±—ã–≤–∞—Ç—å cleanup –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.

## –§–ª–∞–≥–∏ `watch`

–°–∏–≥–Ω–∞—Ç—É—Ä–∞:

```ts
watch(source, callback, options);
```

–ì–¥–µ `options` –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–ª–∞–≥–∏.

### `immediate`

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `watch` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ **–∏–∑–º–µ–Ω–µ–Ω–∏–∏** –∏—Å—Ç–æ—á–Ω–∏–∫–∞.

`immediate: true` –∑–∞–ø—É—Å–∫–∞–µ—Ç callback —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è watcher.

```ts
watch(userId, loadUser, { immediate: true });
```

–£–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ callback –Ω—É–∂–µ–Ω –∏ –¥–ª—è initial load, –∏ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

### `deep`

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `watch` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏/–∑–Ω–∞—á–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –∞ –Ω–µ –≤—Å–µ—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π.

- `deep: true` -> –≥–ª—É–±–æ–∫–∏–π –æ–±—Ö–æ–¥ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π.
- –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Vue 3 –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —á–∏—Å–ª–æ –≥–ª—É–±–∏–Ω—ã: `deep: 2` (–æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≥–ª—É–±–∏–Ω—É –æ–±—Ö–æ–¥–∞).

```ts
watch(
    () => formState,
    (next) => {
        saveDraft(next);
    },
    { deep: true }
);
```

–í–∞–∂–Ω–æ: `deep` –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Ä–æ–≥–∏–º –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö.

### `flush`

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, **–∫–æ–≥–¥–∞** –∑–∞–ø—É—Å–∫–∞—Ç—å callback –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

- `flush: "pre"` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -> –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM.
- `flush: "post"` -> –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM.
- `flush: "sync"` -> —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å—Ä–∞–∑—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ).

```ts
watch(activeTab, () => {
    // –Ω—É–∂–µ–Ω —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π DOM
    readLayout();
}, { flush: "post" });
```

### `once`

`once: true` –∑–∞–ø—É—Å–∫–∞–µ—Ç callback —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω —Ä–∞–∑** –Ω–∞ –ø–µ—Ä–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ, –∑–∞—Ç–µ–º watcher –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

```ts
watch(isReady, () => {
    sendFirstReadyMetric();
}, { once: true });
```

### `onTrack`

–û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ö—É–∫: –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ watcher –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.

```ts
watch(source, cb, {
    onTrack(event) {
        console.log("track", event);
    },
});
```

### `onTrigger`

–û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ö—É–∫: –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ watcher —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

```ts
watch(source, cb, {
    onTrigger(event) {
        console.log("trigger", event);
    },
});
```

–û–±—ã—á–Ω–æ `onTrack/onTrigger` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

### –í—Å–µ –≤–º–µ—Å—Ç–µ

```ts
watch(source, callback, {
    immediate: true,
    deep: false,
    flush: "pre",
    once: false,
    onTrack: (e) => console.debug("track", e),
    onTrigger: (e) => console.debug("trigger", e),
});
```

## –ù–µ —Ñ–ª–∞–≥–∏

–≠—Ç–æ –Ω–µ `options`, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ –ø–æ–º–Ω–∏—Ç—å:

- `watch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `stop()` (–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ watcher).
- –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º Vue –µ—Å—Ç—å `pause()` / `resume()` —É handle.
- cleanup –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ 3-–π –∞—Ä–≥—É–º–µ–Ω—Ç callback (`onCleanup`) –∏–ª–∏ —á–µ—Ä–µ–∑ `onWatcherCleanup`.

## Cleanup –≤ async watch

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, —Å—Ç–∞—Ä—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞–¥–æ –æ—Ç–º–µ–Ω—è—Ç—å:

```ts
watch(query, async (q, _, onCleanup) => {
    const controller = new AbortController();
    onCleanup(() => controller.abort());

    const res = await fetch(`/api/search?q=${q}`, { signal: controller.signal });
    data.value = await res.json();
});
```

–≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –≥–æ–Ω–æ–∫ –∏ –ª–∏—à–Ω–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏.

## –ò—Ç–æ–≥

- `computed` -> –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- `watch` -> –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ side effects.
- `watchEffect` -> –±—ã—Å—Ç—Ä—ã–π auto-tracking —ç—Ñ—Ñ–µ–∫—Ç –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

---

<RelatedTopics
    :items="[
        { title: 'Ref vs Reactive', href: '/vue/ref-and-reactive/ref-vs-reactive' },
        { title: '–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ä–µ–Ω–¥–µ—Ä—ã –∏ –±–∞—Ç—á–∏–Ω–≥', href: '/vue/asinkhronnye-rendery-i-batching' },
        { title: 'Vue2 vs Vue3', href: '/vue/vue2-vs-vue3' },
    ]"
/>
