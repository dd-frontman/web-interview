## üìå –ß—Ç–æ —Ç–∞–∫–æ–µ `shallowReactive`

`shallowReactive(obj)` ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ Vue 3 reactivity API, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç **—Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –ø–æ–ª—è —Å–∞–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞**, –Ω–æ **–Ω–µ –µ–≥–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã**. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

‚úîÔ∏è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–∏—Ö —Å–≤–æ–π—Å—Ç–≤ –æ–±—ä–µ–∫—Ç–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ  
‚ùå –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤–Ω—É—Ç—Ä–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ **–Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è** Vue-—Å–∏—Å—Ç–µ–º–æ–π —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ [Vue.js+1](https://vuejs.org/api/reactivity-advanced)

–ü—Ä–∏–º–µ—Ä:

```js
const state = shallowReactive({
	count: 0,
	nested: { value: 10 },
});

state.count++; // —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ
state.nested.value++; // –ù–ï —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ!
```

–¢–æ –µ—Å—Ç—å Vue **–Ω–µ –≤–∏–¥–∏—Ç**, —á—Ç–æ –≤—ã –∏–∑–º–µ–Ω–∏–ª–∏ `nested.value`, –ø–æ—ç—Ç–æ–º—É –Ω–µ –æ–±–Ω–æ–≤–∏—Ç UI –ø–æ —ç—Ç–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—é. [Vue.js](https://vuejs.org/api/reactivity-advanced)

---

## üìå –ü–æ—á–µ–º—É —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

Vue –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç **–≥–ª—É–±–æ–∫–æ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º** ‚Äî –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Ç–æ–∂–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —á–µ—Ä–µ–∑ Proxy.  
`shallowReactive` **–æ—Ç–∫–ª—é—á–∞–µ—Ç –≥–ª—É–±–æ–∫—É—é —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ:

üîπ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π)  
üîπ –∫–æ–≥–¥–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–µ –Ω—É–∂–Ω—ã –¥–ª—è UI-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π  
üîπ –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏, –≥–¥–µ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã Vue —Å–ª–µ–¥–∏–ª –∑–∞ –≤—Å–µ–º –ø–æ–¥—Ä—è–¥ [Vue.js](https://vuejs.org/api/reactivity-advanced)

---

## üõ† –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å `shallowReactive`

–ü–æ—Å–∫–æ–ª—å–∫—É –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã _–Ω–µ –¥–µ–ª–∞—é—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏_, –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤, –∫–∞–∫ –¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è **—Å —É—á—ë—Ç–æ–º —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**:

---

### ‚úÖ 1) **–ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Ö–Ω–∏–π –æ–±—ä–µ–∫—Ç —Ü–µ–ª–∏–∫–æ–º**

–°–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî **–∑–∞–º–µ–Ω–∏—Ç—å –≤–µ—Å—å –æ–±—ä–µ–∫—Ç**, –∞ –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—è.

`state.nested = { ...state.nested, value: 20 }`

–¢–∞–∫ Vue —É–≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ `nested` –∏ –æ–±–Ω–æ–≤–∏—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.

---

### ‚úÖ 2) **–û–±–Ω–æ–≤–ª—è—Ç—å –ø–æ–ª—è –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ**

–ü–æ—Å–∫–æ–ª—å–∫—É Vue –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å, –µ—Å–ª–∏ —Ç—ã –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—à—å –ø–æ–ª—è —Å–∞–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, —Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:

`state.someNew = 100   // –æ—Ç—Å–ª–µ–¥–∏—Ç—Å—è`

---

### ‚úÖ 3) **–ï—Å–ª–∏ —ç—Ç–æ –º–∞—Å—Å–∏–≤ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –º—É—Ç–∏—Ä—É—é—â–∏–µ (!)**

–î–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –ø–æ–¥ `shallowReactive` —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –º–∞—Å—Å–∏–≤:

`state.items.splice(0, 1)   // —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ`

–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ Vue –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∞–º–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ (–µ–≥–æ –¥–ª–∏–Ω—ã –∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤), –¥–∞–∂–µ –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã. [Stack Overflow](https://stackoverflow.com/questions/66290673/vue-3-the-official-way-to-update-shallowreactive-array)

---

### ‚ùå –ß—Ç–æ **–Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç**

`state.nested.value++ // Vue –Ω–µ —É–≤–∏–¥–∏—Ç`

–≠—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ Vue **–Ω–µ –∑–Ω–∞–µ—Ç**, –ø–æ—ç—Ç–æ–º—É –Ω–µ –æ–±–Ω–æ–≤–∏—Ç DOM. [Stack Overflow](https://stackoverflow.com/questions/73034245/why-does-shallowreactive-not-work-as-expected)

---

## üìå –ö–æ–≥–¥–∞ `shallowReactive` –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω

| –°–∏—Ç—É–∞—Ü–∏—è                                  | –ü–æ—á–µ–º—É –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è                                         |
| ----------------------------------------- | --------------------------------------------------------- |
| –ú–µ–¥–ª–µ–Ω–Ω—ã–µ/–±–æ–ª—å—à–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã               | Vue –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ Proxy –Ω–∞ –∫–∞–∂–¥—ã–π –≤–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏        | –ù–µ –º–µ—à–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–µ                    |
| –•—Ä–∞–Ω–∏–ª–∏—â–∞, –≥–¥–µ –≤–∞–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å | –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ —Å—Å—ã–ª–∫–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é               |

---

## üß† –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –≥–ª—É–±–æ–∫–∞—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

–ï—Å–ª–∏ —Ç—ã –æ–∂–∏–¥–∞–µ—à—å, —á—Ç–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—è –±—É–¥—É—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–∫–∞–∫ –≤ –æ–±—ã—á–Ω–æ–º `reactive()`), –ø—Ä–æ—Å—Ç–æ **–∏—Å–ø–æ–ª—å–∑—É–π `reactive()`**, –∞ –Ω–µ `shallowReactive()`:

`const state = reactive({   nested: { value: 10 } }) state.nested.value++ // –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è`

---

## üìå –ò—Ç–æ–≥

‚úîÔ∏è `shallowReactive` –¥–µ–ª–∞–µ—Ç **—Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞**  
‚úîÔ∏è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ **–Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è Vue**  
‚úîÔ∏è —á—Ç–æ–±—ã Vue —É–∑–Ω–∞–ª –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –Ω—É–∂–Ω–æ:

- –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
- –∏–ª–∏ –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–æ–∏—Ç—å –æ–±—ä–µ–∫—Ç —Ü–µ–ª–∏–∫–æ–º
- –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤ –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏  
   ‚úîÔ∏è `shallowReactive` –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –≥–ª—É–±–æ–∫–∞—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å **–∏–∑–±—ã—Ç–æ—á–Ω–∞ –∏–ª–∏ —É—Ö—É–¥—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** [Vue.js](https://vuejs.org/api/reactivity-advanced)

---

## üß∑ –ú–∏–Ω–∏-–ø—Ä–∏–º–µ—Ä

```js
<script setup>
import { shallowReactive } from 'vue'

const state = shallowReactive({
  count: 0,
  nested: { value: 5 }
})

const updateNested = () => {
  // ‚ùå Vue –Ω–µ —É–≤–∏–¥–∏—Ç
  state.nested.value++

  // ‚úÖ Vue —É–≤–∏–¥–∏—Ç ‚Äî –∑–∞–º–µ–Ω—è–µ–º –æ–±—ä–µ–∫—Ç
  state.nested = { ...state.nested, value: state.nested.value + 1 }
}
</script>

<template>
  <div>{{ state.count }}</div>
  <div>{{ state.nested.value }}</div>
  <button @click="updateNested">Update nested</button>
</template>
```

---

<RelatedTopics
	:items="[
		{ title: 'reactive', href: '/vue/ref-and-reactive/reactive' },
		{ title: '–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤–æ Vue3', href: '/vue/ref-and-reactive/reaktivnost-vo-vue3' },
		{ title: 'ref vs reactive', href: '/vue/ref-and-reactive/ref-vs-reactive' },
	]"
/>

