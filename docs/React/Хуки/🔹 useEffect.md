
## 1) –ö—Ä–∞—Ç–∫–æ, –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
`useEffect` –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å **–ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:  
- –∑–∞–ø—Ä–æ—Å—ã –∫ API,  
- –ø–æ–¥–ø–∏—Å–∫–∏ (—Å–æ–∫–µ—Ç—ã, —Å–æ–±—ã—Ç–∏—è),  
- —Ä–∞–±–æ—Ç–∞ —Å `localStorage`,  
- —Ç–∞–π–º–µ—Ä—ã (`setInterval`/`setTimeout`).  

–ü–æ —Å—É—Ç–∏: –≤—Å—ë, —á—Ç–æ **–≤–ª–∏—è–µ—Ç –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –º–∏—Ä –∏–ª–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–µ–≥–æ**, –¥–µ–ª–∞–µ—Ç—Å—è –≤ `useEffect`.

---

## 2) –ü–æ–¥—Ä–æ–±–Ω–æ —Å —Ç–µ–æ—Ä–∏–µ–π –∏ –Ω—é–∞–Ω—Å–∞–º–∏

### –û—Å–Ω–æ–≤—ã
```tsx
useEffect(() => {
  // —ç—Ñ—Ñ–µ–∫—Ç
  return () => {
    // cleanup (–æ—Ç–ø–∏—Å–∫–∞, –æ—á–∏—Å—Ç–∫–∞)
  };
}, [dependencies]);
```

- –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —Ñ—É–Ω–∫—Ü–∏—è (—ç—Ñ—Ñ–µ–∫—Ç).
- –í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`[]`):
  - `[]` ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏**.
  - `[a, b]` ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `a` –∏–ª–∏ `b`.
  - –±–µ–∑ –º–∞—Å—Å–∏–≤–∞ ‚Äî –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è **–Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä** (—Ä–µ–¥–∫–æ –Ω—É–∂–Ω–æ).

### –ù—é–∞–Ω—Å—ã
- **–û—á–∏—Å—Ç–∫–∞ (cleanup)** –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –∑–∞–ø—É—Å–∫–æ–º —ç—Ñ—Ñ–µ–∫—Ç–∞.
- –≠—Ñ—Ñ–µ–∫—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ—Å–ª–µ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- –ï—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `async/await`, –ø–∏—à–µ–º —Ç–∞–∫:
  ```tsx
  useEffect(() => {
    async function load() {
      const data = await fetchData();
      setValue(data);
    }
    load();
  }, []);
  ```
- –ï—Å–ª–∏ –∑–∞–±—ã—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Üí –≤–æ–∑–º–æ–∂–Ω—ã **–±–∞–≥–∏ –∏–ª–∏ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏).
- –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å **—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Äî —ç—Ñ—Ñ–µ–∫—Ç –±—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–∞—â–µ, —á–µ–º –Ω—É–∂–Ω–æ.
- –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å **–º–∞–ª–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Äî –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å **stale closure** (—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è).

---

## 3) –ü—Ä–∏–º–µ—Ä—ã (React + TypeScript)

### 3.1. –ó–∞–ø—Ä–æ—Å –∫ API –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
```tsx
import { useEffect, useState } from "react";

export function Users() {
  const [users, setUsers] = useState<string[]>([]);

  useEffect(() => {
    fetch("https://jsonplaceholder.typicode.com/users")
      .then(res => res.json())
      .then(data => setUsers(data.map((u: any) => u.name)));
  }, []); // [] ‚Üí —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

  return (
    <ul>
      {users.map(u => <li key={u}>{u}</li>)}
    </ul>
  );
}
```

---

### 3.2. –ü–æ–¥–ø–∏—Å–∫–∞ –∏ –æ—Ç–ø–∏—Å–∫–∞
```tsx
import { useEffect, useState } from "react";

export function WindowWidth() {
  const [width, setWidth] = useState(window.innerWidth);

  useEffect(() => {
    const handleResize = () => setWidth(window.innerWidth);

    window.addEventListener("resize", handleResize);

    // cleanup: —É–¥–∞–ª—è–µ–º —Å–ª—É—à–∞—Ç–µ–ª—å –ø—Ä–∏ –∞–Ω–º–∞—É–Ω—Ç–µ
    return () => window.removeEventListener("resize", handleResize);
  }, []);

  return <p>–®–∏—Ä–∏–Ω–∞ –æ–∫–Ω–∞: {width}</p>;
}
```

---

### 3.3. –¢–∞–π–º–µ—Ä —Å –æ—á–∏—Å—Ç–∫–æ–π
```tsx
import { useEffect, useState } from "react";

export function Timer() {
  const [sec, setSec] = useState(0);

  useEffect(() => {
    const id = setInterval(() => {
      setSec(p => p + 1);
    }, 1000);

    return () => clearInterval(id); // –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –∞–Ω–º–∞—É–Ω—Ç–µ
  }, []);

  return <p>{sec} —Å–µ–∫</p>;
}
```

---

### 3.4. –≠—Ñ—Ñ–µ–∫—Ç —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
```tsx
import { useEffect, useState } from "react";

export function Search({ query }: { query: string }) {
  const [result, setResult] = useState("");

  useEffect(() => {
    if (!query) return;
    setResult("–ü–æ–∏—Å–∫: " + query);
  }, [query]); // —ç—Ñ—Ñ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ query

  return <p>{result}</p>;
}
```

---

## 4) –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Vue

| React | Vue |
|---|---|
| `useEffect(() => {...}, [])` | `onMounted(() => {...})` |
| –û—á–∏—Å—Ç–∫–∞ –≤ `return () => {...}` | `onUnmounted(() => {...})` |
| –°–ª–µ–¥–∏—Ç—å –∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ `[x, y]` | `watch([x, y], () => {...})` |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–µ—Ç ‚Äî —É–∫–∞–∑—ã–≤–∞–µ–º deps –≤—Ä—É—á–Ω—É—é | Vue —Å–∞–º —Ç—Ä–µ–∫–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`watchEffect`) |

---

## 5) –ß–∏—Ç-—â–∏—Ç (—Ç–∞–±–ª–∏—Ü–∞)

| –ß—Ç–æ | –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç | –ü—Ä–∏–º–µ—Ä | –ù—é–∞–Ω—Å |
|---|---|---|---|
| –û–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ | `useEffect(() => {...}, [])` | –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö | –ê–Ω–∞–ª–æ–≥ `componentDidMount` |
| –ù–∞ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä | `useEffect(() => {...})` | —Ä–µ–¥–∫–æ –Ω—É–∂–Ω–æ | –ú–æ–∂–µ—Ç –≥—Ä—É–∑–∏—Ç—å CPU |
| –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ deps | `useEffect(() => {...}, [a, b])` | –∑–∞–≤–∏—Å–∏–º—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã | –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ |
| –û—á–∏—Å—Ç–∫–∞ | `return () => {...}` –≤–Ω—É—Ç—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞ | –æ—Ç–ø–∏—Å–∫–∞ –æ—Ç —Å–æ–±—ã—Ç–∏–π, —Ç–∞–π–º–µ—Ä—ã | –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥ –∞–Ω–º–∞—É–Ω—Ç–æ–º |
| –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å | –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ `async function` –≤–Ω—É—Ç—Ä–∏ | –∑–∞–≥—Ä—É–∑–∫–∞ API | `useEffect` –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç async –Ω–∞–ø—Ä—è–º—É—é |
| –°—Ç–∞ÃÅ–ª–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏/—Ñ—É–Ω–∫—Ü. –∞–ø–¥–µ–π—Ç–µ—Ä | `setVal(p => p+1)` | –ò–Ω–∞—á–µ –º–æ–∂–µ—Ç –±—Ä–∞—Ç—å —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| SSR | `useEffect` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ | —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ | –î–ª—è SSR –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useLayoutEffect` —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é |

---

üìå –ò—Ç–æ–≥:  
- –í—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å ¬´–ø–æ–±–æ—á–∫–∞–º–∏¬ª ‚Äî –∫–ª–∞–¥—ë–º –≤ `useEffect`.  
- –ü–æ–º–Ω–∏ –ø—Ä–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–∞–≥–æ–≤.  
- –ù–µ –±–æ–π—Å—è cleanup ‚Äî —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—è, —á—Ç–æ –Ω–µ –±—É–¥–µ—Ç —É—Ç–µ—á–µ–∫.  

---
