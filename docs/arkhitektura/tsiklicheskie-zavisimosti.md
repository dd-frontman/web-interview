# ğŸ” Ğ¦Ğ¸ĞºĞ»Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸: Ñ‡Ñ‚Ğ¾ ÑÑ‚Ğ¾ Ğ¸ ĞºĞ°Ğº Ğ¸Ğ·Ğ±ĞµĞ¶Ğ°Ñ‚ÑŒ

---

## 1) ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğµ Ğ¾Ğ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ

**Ğ¦Ğ¸ĞºĞ»Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ** â€” ÑÑ‚Ğ¾ ĞºĞ¾Ğ³Ğ´Ğ° Ğ´Ğ²Ğ° (Ğ¸Ğ»Ğ¸ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ) Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ **Ğ·Ğ°Ğ²Ğ¸ÑÑÑ‚ Ğ´Ñ€ÑƒĞ³ Ğ¾Ñ‚ Ğ´Ñ€ÑƒĞ³Ğ° Ğ¿Ğ¾ ĞºÑ€ÑƒĞ³Ñƒ**.  
ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Â«ĞºÑ€ÑƒĞ³Ğ°Â»:

- `A â†’ B â†’ A` (Ğ´Ğ²Ğµ Ğ²ĞµÑ€ÑˆĞ¸Ğ½Ñ‹)
- `A â†’ B â†’ C â†’ A` (Ñ‚Ñ€Ğ¸ Ğ¸ Ğ±Ğ¾Ğ»ĞµĞµ)

ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ¿Ğ»Ğ¾Ñ…Ğ¾:

- Ğ›Ğ¾Ğ¼Ğ°ĞµÑ‚ Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ (Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ `undefined`, Ñ‡Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹).
- Ğ£ÑĞ»Ğ¾Ğ¶Ğ½ÑĞµÑ‚ ÑĞ±Ğ¾Ñ€ĞºÑƒ, tree-shaking Ğ¸ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ.
- Ğ”ĞµĞ»Ğ°ĞµÑ‚ ĞºĞ¾Ğ´ Ñ…Ñ€ÑƒĞ¿ĞºĞ¸Ğ¼: Ğ½ĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ñ Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹ Ğ»Ğ¾Ğ¼Ğ°ÑÑ‚ Ğ´Ñ€ÑƒĞ³ÑƒÑ.
- Ğ’ SSR/Node Ñ†Ğ¸ĞºĞ»Ñ‹ Ğ¿Ñ€Ğ¾ÑĞ²Ğ»ÑÑÑ‚ÑÑ _ÑĞ¸Ğ»ÑŒĞ½ĞµĞµ_, Ñ‡ĞµĞ¼ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ.

---

## 2) ĞšĞ°Ğº Ğ²Ñ‹Ğ³Ğ»ÑĞ´Ğ¸Ñ‚ Ğ½Ğ° Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞµ (JS/TS, Vue, React)

### 2.1. JS/TS-Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸

```ts
// a.ts
import { b } from "./b";
export const a = "a";
export function fromA() {
	return "A â†’ " + b();
}

// b.ts
import { fromA } from "./a";
export function b() {
	return "B (uses " + fromA() + ")";
}
// A -> B Ğ¸ B -> A: Ñ†Ğ¸ĞºĞ».
```

Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼Ñ‹: Ğ¿Ñ€Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğ¸ `fromA()` Ğ² Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ° `b` Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ `undefined`.

### 2.2. Vue (composables/feature)

```js
features/user/useUser.ts  -> Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ features/auth/useAuth.ts
features/auth/useAuth.ts  -> Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ features/user/useUser.ts   // Ñ†Ğ¸ĞºĞ»
```

Ğ˜Ğ·-Ğ·Ğ° Ñ€Ğ°Ğ½Ğ½Ğ¸Ñ… Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ² Ğ¾Ğ´Ğ¸Ğ½ Ğ¸Ğ· composable Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ **Ğ¿ÑƒÑÑ‚Ñ‹Ğµ ÑÑÑ‹Ğ»ĞºĞ¸** Ğ¸Ğ»Ğ¸ Â«Ğ½ĞµĞ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ğ½Ñ‹ĞµÂ» Ñ€ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ.

### 2.3. React (hooks/contexts)

```js
contexts/UserContext.tsx -> Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ hooks/useAuth.ts
hooks/useAuth.ts         -> Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ contexts/UserContext.tsx   // Ñ†Ğ¸ĞºĞ»
```

ĞŸÑ€Ğ¸ SSR Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº `require()` Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ²ĞµÑÑ‚Ğ¸ Ğº Â«Ğ¿Ğ¾Ğ»ÑƒÑ€Ğ°ÑÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ¼ÑƒÂ» ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñƒ.

---

## 3) ĞšĞ°Ğº Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶Ğ¸Ñ‚ÑŒ Ñ†Ğ¸ĞºĞ»Ñ‹

- **ESLint**: `eslint-plugin-import` Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ `import/no-cycle`.
- **TS/Ğ‘Ğ°Ğ½Ğ´Ğ»ĞµÑ€Ñ‹**: Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚ Vite/Webpack/Rollup Ğ¿Ñ€Ğ¾ circular deps.
- **nx dep-graph / vite --debug / madge**: Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ³Ñ€Ğ°Ñ„Ğ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹.
- **Runtime Ğ¿Ñ€Ğ¸Ğ·Ğ½Ğ°ĞºĞ¸**: `undefined` Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸/Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ° Ğ¿Ñ€Ğ¸ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğµ, ÑÑ‚Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸.

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ESLint-ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ°:

```js
// .eslintrc.cjs
module.exports = {
	plugins: ["import"],
	rules: {
		"import/no-cycle": ["error", { maxDepth: Infinity }],
	},
};
```

---

## 4) Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ Ñ€Ğ°Ğ·Ñ€Ñ‹Ğ²Ğ° Ñ†Ğ¸ĞºĞ»Ğ¾Ğ²

### 4.1. Ğ Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ñ‚Ğµ Â«ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñ‹Â» Ğ¸ Â«Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸ÑÂ»

Ğ’Ñ‹Ğ½ĞµÑĞ¸Ñ‚Ğµ Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ñ‹/Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹ Ğ² **Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ ÑĞ»Ğ¾Ğ¹** (shared/contracts), Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ²ĞµÑ€Ñ…Ğ½Ğ¸Ğµ ÑĞ»Ğ¾Ğ¸ Ğ½Ğµ Ñ‚ÑĞ½ÑƒĞ»Ğ¸ÑÑŒ Ğ´Ñ€ÑƒĞ³ Ğº Ğ´Ñ€ÑƒĞ³Ñƒ.

```
entities/
  user/
    model.ts
    repo.ts
features/
  auth/
    service.ts      // Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ contracts, Ğ° Ğ½Ğµ Ğ¾Ñ‚ user.repo Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ
shared/
  contracts/
    user.ts         // Ñ‚Ğ¸Ğ¿Ñ‹/Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹ UserDTO, IUserRepo
```

`auth/service` Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ `contracts/user.ts`, Ğ° **Ñ€ĞµĞ°Ğ»ÑŒĞ½ÑƒÑ** Ğ¸Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ `IUserRepo` Ğ¿Ğ¾Ğ´ÑĞ¾Ğ²Ñ‹Ğ²Ğ°ĞµĞ¼ Ñ‡ĞµÑ€ĞµĞ· DI/Ñ„Ğ°Ğ±Ñ€Ğ¸ĞºÑƒ â€” Ñ†Ğ¸ĞºĞ» Ğ¸ÑÑ‡ĞµĞ·.

### 4.2. Ğ’Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ (DI) / Ğ˜Ğ½Ğ²ĞµÑ€ÑĞ¸Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹

Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‘Ğ¼ **ÑĞ½Ğ°Ñ€ÑƒĞ¶Ğ¸**, Ğ° Ğ½Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ.

```ts
// before
import { sendEmail } from "../notifications/email";
export function createUser(u) {
	/*...*/ sendEmail(u.email);
}

// after (DI)
export type Notifier = (email: string) => Promise<void>;
export function createUser(u, notify: Notifier) {
	/*...*/ return notify(u.email);
}
```

Ğ¢ĞµĞ¿ĞµÑ€ÑŒ `createUser` Ğ½Ğµ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¾ `email`-Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ â€” ĞºÑ€ÑƒĞ³ Ğ¿Ğ¾Ñ€Ğ²Ğ°Ğ½.

### 4.3. Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ğ¹Ñ‚Ğµ Â«barrelÂ»-Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ², ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‰Ğ¸Ñ… ĞºÑ€ÑƒĞ³

Barrel (`index.ts`) ÑƒĞ´Ğ¾Ğ±ĞµĞ½, Ğ½Ğ¾ Ğ¼Ğ¾Ğ¶ĞµÑ‚ ÑĞºÑ€Ñ‹Ñ‚ÑŒ Ñ†Ğ¸ĞºĞ».

- Ğ›Ğ¸Ğ±Ğ¾ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ **ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ** Ñ„Ğ°Ğ¹Ğ»Ñ‹ (`from './ui/Button'`),
- Ğ»Ğ¸Ğ±Ğ¾ Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚Ğµ **Ğ¾Ğ´Ğ½Ğ¾ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½Ğ¸Ğ¹** barrel (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²Ğ²ĞµÑ€Ñ… Ğ¿Ğ¾ ÑĞ»Ğ¾ÑĞ¼), Ğ½Ğµ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑ Ğ½Ğ¸Ğ¶Ğ½Ğ¸Ğ¼ ÑĞ»Ğ¾ÑĞ¼ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞµĞ³Ğ¾.

### 4.4. Ğ¡Ğ¾Ğ±Ğ»ÑĞ´Ğ°Ğ¹Ñ‚Ğµ **Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° ÑĞ»Ğ¾Ñ‘Ğ²** (FSD/Layered)

Ğ”Ğ¾Ğ¿ÑƒÑĞºĞ°Ğ¹Ñ‚Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ **Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²Ğ½Ğ¸Ğ·**:

```
app â†’ processes â†’ pages â†’ widgets â†’ features â†’ entities â†’ shared
```

Ğ•ÑĞ»Ğ¸ `features/cart` Ñ‚ÑĞ½ĞµÑ‚ `features/user` Ğ¸ Ğ½Ğ°Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚ â€” ĞµÑÑ‚ÑŒ Ñ€Ğ¸ÑĞº Ñ†Ğ¸ĞºĞ»Ğ°.  
Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚Ğµ Ğ¾Ğ±Ñ‰ÑƒÑ Ñ‡Ğ°ÑÑ‚ÑŒ Ğ² `entities` Ğ¸Ğ»Ğ¸ `shared`.

### 4.5. Ğ’Ñ‹Ğ½ĞµÑĞ¸Ñ‚Ğµ Â«ĞºÑ€ĞµÑÑ‚-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸Â» Ğ² Ğ¿Ğ¾ÑÑ€ĞµĞ´Ğ½Ğ¸ĞºĞ° (Mediator / Pub-Sub)

Ğ’Ğ¼ĞµÑÑ‚Ğ¾ Ğ¿Ñ€ÑĞ¼Ñ‹Ñ… Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¾Ğ² Aâ†”B Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹Ğ½ÑƒÑ ÑˆĞ¸Ğ½Ñƒ.

```ts
// shared/bus.ts
type Events = { USER_CREATED: { id: string } };
export const bus = new EventTarget();
export const emitUserCreated = (p: Events["USER_CREATED"]) =>
	bus.dispatchEvent(new CustomEvent("USER_CREATED", { detail: p }));

// features/user -> emitUserCreated({ id })
//
// features/notifications -> Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ½Ğ° bus.addEventListener('USER_CREATED', ...)
```

### 4.6. Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ (lazy) Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Â«Ğ¶Ñ‘ÑÑ‚ĞºĞ¾Ğ³Ğ¾Â» Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ°

Ğ•ÑĞ»Ğ¸ ÑĞ²ÑĞ·ÑŒ Ğ½ÑƒĞ¶Ğ½Ğ° Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ **Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ**, Ğ¾Ñ‚Ğ»Ğ¾Ğ¶Ğ¸Ñ‚Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚:

```ts
async function openEditor() {
	const { Editor } = await import("./Editor"); // Ñ€Ğ°Ğ·Ñ€Ñ‹Ğ²Ğ°ĞµÑ‚ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ñ†Ğ¸ĞºĞ»
	new Editor().mount();
}
```

### 4.7. Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚Ğµ Â«Ñ‚Ñ€ĞµÑ‚ÑŒÑ Ñ‚Ğ¾Ñ‡ĞºÑƒÂ»

Ğ•ÑĞ»Ğ¸ `A` Ğ¸ `B` Ğ·Ğ°Ğ²Ğ¸ÑÑÑ‚ Ğ´Ñ€ÑƒĞ³ Ğ¾Ñ‚ Ğ´Ñ€ÑƒĞ³Ğ°, Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾, Ğ²Ğ°Ğ¼ Ğ½ÑƒĞ¶ĞµĞ½ **C (service/facade)**, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¾ Ğ¾Ğ±Ğ°, Ğ° `A` Ğ¸ `B` Ğ·Ğ½Ğ°ÑÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¾ `C`.

```
A â†’ Facade â† B      (A Ğ¸ B Ğ½Ğµ Ğ·Ğ½Ğ°ÑÑ‚ Ğ´Ñ€ÑƒĞ³ Ğ¾ Ğ´Ñ€ÑƒĞ³Ğµ)
```

---

## 5) ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ğ½ Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°, ĞµÑĞ»Ğ¸ Ñ†Ğ¸ĞºĞ» ÑƒĞ¶Ğµ ĞµÑÑ‚ÑŒ

1. **ĞĞ°Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ñ†Ğ¸ĞºĞ»** (ESLint/madge/dep-graph). Ğ¤Ğ¸ĞºÑĞ¸Ñ€ÑƒĞ¹Ñ‚Ğµ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹.
2. **ĞĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ»Ğ¾Ñ‘Ğ²** (Ğ³Ğ´Ğµ Ğ²Ñ‹ÑĞ¾ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ğ¾Ğµ, Ğ³Ğ´Ğµ Ğ½Ğ¸Ğ·ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ğ¾Ğµ).
3. **Ğ’Ñ‹Ğ½ĞµÑĞ¸Ñ‚Ğµ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚/Ñ‚Ğ¸Ğ¿Ñ‹** Ğ² Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ ÑĞ»Ğ¾Ğ¹ (`shared/contracts`).
4. **Ğ’Ğ½ĞµĞ´Ñ€Ğ¸Ñ‚Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ** Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸/ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€Ğ° (DI), Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ³Ğ¾ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ°.
5. **Ğ£Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ barrel** Ğ¸Ğ· Â«ÑĞ¿Ğ¾Ñ€Ğ½Ğ¾Ğ³Ğ¾Â» Ğ¼ĞµÑÑ‚Ğ° Ğ¸Ğ»Ğ¸ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ÑŒÑ‚Ğµ ĞµĞ³Ğ¾ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚.
6. **ĞŸÑ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸** â€” Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ğ¾ÑÑ€ĞµĞ´Ğ½Ğ¸ĞºĞ° (facade/pub-sub) Ğ¸Ğ»Ğ¸ **lazy import**.
7. **Ğ—Ğ°Ñ„Ğ¸ĞºÑĞ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚**: Ğ²ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ `import/no-cycle`, Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ñ€ĞµĞ³Ñ€ĞµÑÑ-Ñ‚ĞµÑÑ‚Ñ‹ (e2e/unit), Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ ADR/Ğ´Ğ¾ĞºĞ¸.

---

## 6) Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ (Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚)

- **ESLint**: `import/no-cycle`, `import/no-deprecated`, `import/no-extraneous-dependencies`.
- **TS path aliases**: ÑĞ»ĞµĞ´Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ°Ğ»Ğ¸Ğ°ÑÑ‹ Ğ½Ğµ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞ»Ğ¸ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Â«Ğ²Ğ²ĞµÑ€Ñ…Â» Ğ¿Ğ¾ ÑĞ»Ğ¾Ñ.
- **Nx/Turborepo**: `dep-graph` Ğ¸ `enforce-module-boundaries` (Nx) Ğ´Ğ»Ñ FSD-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ».
- **Madge**: `madge src --circular` â€” Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ñ†Ğ¸ĞºĞ»Ñ‹.
- **Architecture tests**: Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğµ unit-Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸, Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰Ğ°ÑÑ‰Ğ¸Ğµ Â«Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ñ‹ĞµÂ» Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ»Ğ¾ÑĞ¼Ğ¸.

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ `madge` Ğ² npm-ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğµ:

```json
{
	"scripts": {
		"depcheck": "madge src --circular --extensions ts,tsx,vue"
	}
}
```

---

## 7) Ğ§Ğ°ÑÑ‚Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ñ‹ Ñ†Ğ¸ĞºĞ»Ğ¾Ğ² Ğ¸ ĞºĞ°Ğº Ğ»ĞµÑ‡Ğ¸Ñ‚ÑŒ

| ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°                                     | ĞŸÑ€Ğ¸Ğ¼ĞµÑ€                                                                          | Ğ›ĞµÑ‡ĞµĞ½Ğ¸Ğµ                                                    |
| ------------------------------------------- | ------------------------------------------------------------------------------- | ---------------------------------------------------------- |
| Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ½Ñ‹Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹ Ñ„Ğ¸Ñ‡                        | `features/user` â‡„ `features/auth`                                               | Ğ’Ñ‹Ğ½ĞµÑÑ‚Ğ¸ Ğ¾Ğ±Ñ‰ĞµĞµ Ğ² `entities/shared`, Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ DI            |
| Barrel, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Â«Ğ²ÑÑ‘ Ğ¸Ğ· Ğ²ĞµĞ·Ğ´ĞµÂ» | `features/index.ts` Ñ‚ÑĞ½ĞµÑ‚ `entities/**`, Ğ° `entities/**` Ñ‚ÑĞ½ĞµÑ‚ `features/index` | Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ/Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ barrel, Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸ |
| Ğ¡Ğ¼ĞµÑˆĞµĞ½Ğ¸Ğµ ÑĞ»Ğ¾Ñ‘Ğ²                              | `pages` Ñ‚ÑĞ½ĞµÑ‚ `app` (Ğ²Ğ²ĞµÑ€Ñ…)                                                     | Ğ¡Ğ¾Ğ±Ğ»ÑĞ´Ğ°Ñ‚ÑŒ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹                         |
| Ğ•Ğ´Ğ¸Ğ½Ñ‹Ğ¹ Â«Ğ±Ğ¾Ğ³â€‘ÑĞµÑ€Ğ²Ğ¸ÑÂ»                         | `services/api.ts` Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¸ Ğ¿Ñ€Ğ¾ auth, Ğ¸ Ğ¿Ñ€Ğ¾ user, Ğ¸ Ğ¾Ğ½Ğ¸ Ğ·Ğ½Ğ°ÑÑ‚ Ğ¿Ñ€Ğ¾ Ğ½ĞµĞ³Ğ¾            | Ğ Ğ°Ğ·Ğ±Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ğ¼ĞµĞ»ĞºĞ¸Ğµ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹, Ğ²Ñ‹Ğ½ĞµÑÑ‚Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹             |
| Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğµ                   | Â«Ğ³Ğ¾Ñ€ÑÑ‡Ğ¸ĞµÂ» Ğ¿Ğ¾Ğ±Ğ¾Ñ‡Ğ½Ñ‹Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ğ² `import`                                           | ĞÑ‚Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (factory/init), lazy import         |

---

# ğŸ“‘ Ğ¨Ğ¿Ğ°Ñ€Ğ³Ğ°Ğ»ĞºĞ°

| Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ                                | Ğ—Ğ°Ñ‡ĞµĞ¼                               |
| ----------------------------------------- | ----------------------------------- |
| Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ `import/no-cycle` Ğ¸ `madge`      | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ»Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ†Ğ¸ĞºĞ»Ñ‹          |
| Ğ Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ **ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñ‹** Ğ¸ **Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ**  | Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ Ğ²Ğ½Ğ¸Ğ·         |
| ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ **DI / Ğ¸Ğ½Ğ²ĞµÑ€ÑĞ¸Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹**  | Ğ Ğ°Ğ·Ğ¾Ñ€Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€ÑĞ¼Ñ‹Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹            |
| Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ñ‚ÑŒ Â«Ñ‚ÑĞ¶Ñ‘Ğ»Ñ‹Ñ…Â» barrelâ€‘Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²          | Ğ‘Ğ°Ñ€Ñ€ĞµĞ»Ğ¸ Ñ‡Ğ°ÑÑ‚Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ ÑĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ñ†Ğ¸ĞºĞ»Ñ‹ |
| Ğ¡Ğ¾Ğ±Ğ»ÑĞ´Ğ°Ñ‚ÑŒ **Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° ÑĞ»Ğ¾Ñ‘Ğ² (FSD/Layered)** | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹     |
| Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ mediator/pub-sub             | Ğ£Ğ±Ñ€Ğ°Ñ‚ÑŒ Aâ†”B Ğ¿Ñ€ÑĞ¼Ñ‹Ğµ ÑĞ²ÑĞ·Ğ¸             |
| ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ÑÑ‚ÑŒ **dynamic import** Ñ‚Ğ¾Ñ‡ĞµÑ‡Ğ½Ğ¾      | Ğ Ğ°Ğ·Ñ€Ñ‹Ğ²Ğ°Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ†Ğ¸ĞºĞ»Ñ‹         |
| ĞŸĞ¸ÑĞ°Ñ‚ÑŒ ADR/Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ°                | Ğ§Ñ‚Ğ¾Ğ±Ñ‹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ½Ğµ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°Ğ»Ğ° Ñ†Ğ¸ĞºĞ»Ñ‹   |

---

> [!tip] Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµĞ¼Ñ‹
>
> - [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹ â€” Ğ²Ğ¸Ğ´Ñ‹ Ğ¸ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸](/arkhitektura/arkhitektura-prilozhenii-vidy-i-osobennosti)
> - [Domain-Driven Design](/arkhitektura/domain-driven-design)
> - [Feature-Sliced Design](/arkhitektura/feature-sliced-design)

