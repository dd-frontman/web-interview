## Cookie-—Å–µ—Å—Å–∏—è
- –°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞—ë—Ç **–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏ (sid)**.  
- –•—Ä–∞–Ω–∏—Ç –µ–≥–æ –≤ –ø–∞–º—è—Ç–∏/–ë–î/Redis: `sid ‚Üí userId`.  
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É `sid` –≤ **HttpOnly cookie**.  
- –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —à–ª—ë—Ç –∫—É–∫—É.  
- –°–µ—Ä–≤–µ—Ä –ø–æ `sid` –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  

**–ü–ª—é—Å—ã:**  
- –ü—Ä–æ—Å—Ç–æ –æ—Ç–æ–∑–≤–∞—Ç—å (—É–¥–∞–ª–∏—Ç—å `sid` –∏–∑ —Å—Ç–æ—Ä–∞).   
- HttpOnly cookie –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç XSS.  

**–ú–∏–Ω—É—Å—ã:**  
- –°–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å–ª–æ–∂–Ω–µ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å).  
---
## JWT (JSON Web Token)
- –°–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω (JSON —Å –ø–æ–ª—è–º–∏ `sub`, `exp`, `role` ‚Ä¶).  
- –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç–æ–º (`HS256`) –∏–ª–∏ –∫–ª—é—á–æ–º (`RS256`).  
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É.  
- –ö–ª–∏–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–∫–µ–Ω –∏ —à–ª—ë—Ç –µ–≥–æ –≤ `Authorization: Bearer <jwt>`.  
- –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å –∏ `exp`, –Ω–µ –æ–±—Ä–∞—â–∞—è—Å—å –∫ –ë–î.  

**–ü–ª—é—Å—ã:**  
- –°–µ—Ä–≤–µ—Ä ¬´–±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è¬ª (—Å—Ç–∞—Ç–ª–µ—Å).  
- –£–¥–æ–±–Ω–æ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏ API.  

**–ú–∏–Ω—É—Å—ã:**  
- –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω —É–∫—Ä–∞–¥–µ–Ω –∏ –∂–∏–≤—ë—Ç 30 –º–∏–Ω ‚Äî –µ–≥–æ –Ω–µ –æ—Ç–æ–∑–≤–∞—Ç—å (–Ω—É–∂–µ–Ω blacklist –∏–ª–∏ –≤–µ—Ä—Å–∏—è —Ç–æ–∫–µ–Ω–∞).  
- –°–ª–æ–∂–Ω–µ–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å logout.  

---
## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- **Cookie-—Å–µ—Å—Å–∏—è** ‚Üí —Å–∞–π—Ç—ã, SPA, –∫–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–π —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞.  
- **JWT** ‚Üí —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ (Web + Mobile).  
---
## –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
–ö–æ–º–±–∏–Ω–∏—Ä—É—é—Ç:
- **Access-—Ç–æ–∫–µ–Ω (JWT)** ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫ (10‚Äì30 –º–∏–Ω), —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.  
- **Refresh-—Ç–æ–∫–µ–Ω (HttpOnly cookie)** ‚Äî –∂–∏–≤—ë—Ç –¥–æ–ª—å—à–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access.  
---

## üìë –®–ø–∞—Ä–≥–∞–ª–∫–∞

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Cookie-—Å–µ—Å—Å–∏—è | JWT |
|----------------|---------------|-----|
| –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è | –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (sid ‚Üí userId) | –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ (–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω) |
| –ì–¥–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è | HttpOnly cookie | Header `Authorization: Bearer` |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ | –ù—É–∂–Ω–æ –æ–±—â–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–µ—Å—Å–∏–π | –õ–µ–≥–∫–æ (—Å—Ç–∞—Ç–ª–µ—Å) |
| Logout | –ü—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç—å —Å–µ—Å—Å–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ | –°–ª–æ–∂–Ω–æ, –Ω—É–∂–µ–Ω blacklist |
| –£—è–∑–≤–∏–º–æ—Å—Ç–∏ | CSRF (—Ä–µ—à–∞–µ—Ç—Å—è SameSite/CSRF-—Ç–æ–∫–µ–Ω) | XSS/—É—Ç–µ—á–∫–∞ —Ç–æ–∫–µ–Ω–∞ |
| –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤, SPA | API, –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, mobile + web |
