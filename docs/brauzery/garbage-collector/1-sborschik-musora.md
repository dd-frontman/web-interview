# üóëÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ (Garbage Collector)

**–°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞** ‚Äî —ç—Ç–æ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ö–∞–Ω–∏–∑–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é** –≤ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.  
–û–Ω **–∏—â–µ—Ç –∏ —É–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ**, –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å, –∫–æ—Ç–æ—Ä—É—é –æ–Ω–∏ –∑–∞–Ω–∏–º–∞–ª–∏. [learn.javascript.ru+1](https://learn.javascript.ru/garbage-collection)

–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è:

üëâ –ö–æ–≥–¥–∞ —Ç—ã —Å–æ–∑–¥–∞—ë—à—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –æ–±—ä–µ–∫—Ç—ã, –æ–Ω–∏ –∑–∞–Ω–∏–º–∞—é—Ç –ø–∞–º—è—Ç—å.  
üëâ –ö–æ–≥–¥–∞ —Ç—ã –∏—Ö –±–æ–ª—å—à–µ **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å** ‚Äî —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ **–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —ç—Ç—É –ø–∞–º—è—Ç—å** —Å–∞–º–∞ –ø–æ —Å–µ–±–µ. [developer.mozilla.org](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Memory_management)

–≠—Ç–æ **–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ç–µ–±—è –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–º—è—Ç—å—é**, –∫–∞–∫ —ç—Ç–æ –Ω—É–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ **C/C++**. [–í–∏–∫–∏–ø–µ–¥–∏—è](https://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29)

---

# üìå –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è: _–¥–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç—å_

JS —Å—á–∏—Ç–∞–µ—Ç –æ–±—ä–µ–∫—Ç **‚Äú–∂–∏–≤—ã–º‚Äù (–Ω—É–∂–Ω—ã–º)**, –µ—Å–ª–∏ –¥–æ –Ω–µ–≥–æ –º–æ–∂–Ω–æ –¥–æ–±—Ä–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ü–µ–ø–æ—á–∫—É —Å—Å—ã–ª–æ–∫ –∏–∑:

üîπ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö  
üîπ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤  
üîπ –∑–∞–∫—Ä—ã—Ç–∏–π (closures)  
üîπ DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö ‚Äú–∫–æ—Ä–Ω–µ–π‚Äù (roots)

–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç **–Ω–µ –¥–æ—Å—Ç–∏–∂–∏–º** ‚Äî –æ–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è _–º—É—Å–æ—Ä–æ–º_ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª—ë–Ω. [javascript.info](https://javascript.info/garbage-collection)

**–ü—Ä–∏–º–µ—Ä:**

`let user = { name: 'Alice' }; user = null; // –æ–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç–∏–∂–∏–º`

–¢–µ–ø–µ—Ä—å –æ–±—ä–µ–∫—Ç `{ name: 'Alice' }` —Å—Ç–∞–Ω–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º –∫ —É–¥–∞–ª–µ–Ω–∏—é. [Medium](https://medium.com/%40haroontime437/how-memory-works-in-javascript-stack-heap-and-garbage-collection-explained-8fb6127144eb)

---

# üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ (–∞–ª–≥–æ—Ä–∏—Ç–º—ã)

JavaScript-–¥–≤–∏–∂–∫–∏ (V8, SpiderMonkey –∏ –¥—Ä.) –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ—á–µ—Ç–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞.

## üîπ 1) Mark-and-Sweep (–û—Ç–º–µ—Ç–∏—Ç—å –∏ –æ—á–∏—Å—Ç–∏—Ç—å)

–≠—Ç–æ **–æ—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º** –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–≤–∏–∂–∫–∞—Ö:

1. GC –Ω–∞—á–∏–Ω–∞–µ—Ç —Å **root-–æ–±—ä–µ–∫—Ç–æ–≤**
2. ‚Äú–û—Ç–º–µ—á–∞–µ—Ç‚Äù –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç–∏–∂–∏–º—ã –∏–∑ –∫–æ—Ä–Ω–µ–π
3. –í—Å—ë, —á—Ç–æ **–Ω–µ –æ—Ç–º–µ—á–µ–Ω–æ ‚Äî –Ω–µ –¥–æ—Å—Ç–∏–∂–∏–º–æ** ‚Üí —Å—á–∏—Ç–∞–µ—Ç—Å—è –º—É—Å–æ—Ä–æ–º
4. –£–¥–∞–ª—è–µ—Ç —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å [javascript.info](https://javascript.info/garbage-collection)

–ú–µ—Ç–∞—Ñ–æ—Ä–∞:

> –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –∏–∑ –∫–æ—Ä–Ω–µ–π –ª—å—ë—Ç—Å—è –∫—Ä–∞—Å–∫–∞ –ø–æ —Å—Å—ã–ª–∫–∞–º ‚Äî –≤—Å–µ –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∂–∏–≤—ã, –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî —É–¥–∞–ª—è–µ—Ç—Å—è. [javascript.info](https://javascript.info/garbage-collection)

---

## üîπ 2) Generational Garbage Collection

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥–≤–∏–∂–∫–æ–≤ –¥–µ–ª—è—Ç –ø–∞–º—è—Ç—å –Ω–∞ _–ø–æ–∫–æ–ª–µ–Ω–∏—è_:

| –ü–æ–∫–æ–ª–µ–Ω–∏–µ           | –ß—Ç–æ —Ç—É–¥–∞ –ø–æ–ø–∞–¥–∞–µ—Ç | –ß–∞—Å—Ç–æ—Ç–∞ GC |
| ------------------- | ----------------- | ---------- |
| **Young** (–º–æ–ª–æ–¥—ã–µ) | –ù–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã     | –ß–∞—Å—Ç–æ      |
| **Old** (—Å—Ç–∞—Ä—ã–µ)    | –î–æ–ª–≥–æ–µ –∂–∏–≤—É—â–∏–µ    | –†–µ–∂–µ       |

–ò–¥–µ—è –≤ —Ç–æ–º, —á—Ç–æ **–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –±—ã—Å—Ç—Ä–æ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –º—É—Å–æ—Ä–æ–º**. –ü–æ—ç—Ç–æ–º—É —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –º–æ–ª–æ–¥–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ, –∞ —Å—Ç–∞—Ä—à–µ–µ ‚Äî —Ä–µ–∂–µ. [GreatFrontEnd](https://www.greatfrontend.com/questions/quiz/how-does-javascript-garbage-collection-work)

---

## üîπ 3) Reference Counting (–ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫)

–†–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –≤ JS, –Ω–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö.

–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —Ö—Ä–∞–Ω–∏—Ç —á–∏—Å–ª–æ —Å—Å—ã–ª–æ–∫ –Ω–∞ –Ω–µ–≥–æ, –∏ –∫–æ–≥–¥–∞ –æ–Ω–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 0 ‚Äî –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è.  
–ü—Ä–æ–±–ª–µ–º—ã: **–Ω–µ —É–º–µ–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å —Ü–∏–∫–ª—ã** (A ‚Üí B ‚Üí A). [DEV Community](https://dev.to/thebuildguy/working-of-garbage-collection-in-javascript-under-the-hood-231e)

---

# ‚öôÔ∏è –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞

GC –≤ JavaScript-–¥–≤–∏–∂–∫–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

‚úî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏  
‚úî –∫–æ–≥–¥–∞ –ø–∞–º—è—Ç—å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è  
‚úî –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –≤ —Ñ–æ–Ω–µ

–¢—ã **–Ω–µ –º–æ–∂–µ—à—å —è–≤–Ω–æ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ —Å—Ä–∞–±–æ—Ç–∞—Ç—å** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `gc()` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ—Ç). [javascript.info](https://javascript.info/garbage-collection)

---

# üìä –¢–∞–±–ª–∏—Ü–∞-—à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ Garbage Collector

| –ü–æ–Ω—è—Ç–∏–µ                         | –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç                                       | –ó–∞—á–µ–º –Ω—É–∂–Ω–æ                                |
| ------------------------------- | -------------------------------------------------- | ------------------------------------------ |
| **GC (Garbage Collector)**      | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é                  | –£–¥–∞–ª—è–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã             |
| **Reachability (–î–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç—å)** | –û–±—ä–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –∂–∏–≤—ã–º, –µ—Å–ª–∏ –æ–Ω –¥–æ—Å—Ç–∏–∂–∏–º –∏–∑ –∫–æ—Ä–Ω–µ–π | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ —É–¥–∞–ª–∏—Ç—å                    |
| **Mark-and-Sweep**              | –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º GC                               | –ù–∞—Ö–æ–¥–∏—Ç –∂–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ —É–¥–∞–ª—è–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ  |
| **Generational GC**             | –ü–∞–º—è—Ç—å –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –ø–æ–∫–æ–ª–µ–Ω–∏—è                        | –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
| **Reference Counting**          | –ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ–±—ä–µ–∫—Ç                           | –ü—Ä–æ—Å—Ç–∞—è —Å—Ö–µ–º–∞, –Ω–æ –Ω–µ —Ä–µ—à–∞–µ—Ç —Ü–∏–∫–ª—ã          |
| **Heap**                        | –û–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤                        | GC —É–ø—Ä–∞–≤–ª—è–µ—Ç heap                          |
| **Roots**                       | –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è –∂–∏–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤                     | –ù–∞—á–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –≥—Ä–∞—Ñ–∞ –¥–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç–∏         |

---

> [!tip] –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã
>
> - [–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏](/brauzery/garbage-collector/2-utechki-pamyati)
> - [–í–æ–ø—Ä–æ—Å—ã –ø–æ Garbage Collector](/brauzery/garbage-collector/voprosy-po-garbage-collector)
> - [–ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∞–π—Ç–∞](/brauzery/polnyi-put-zagruzki-saita)

